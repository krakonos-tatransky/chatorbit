# ChatOrbit E2E Test Configuration

# ========================================
# API Endpoints
# ========================================

# Backend API base URL (HTTP)
TEST_API_BASE_URL=http://localhost:50001

# Backend WebSocket URL
TEST_WS_BASE_URL=ws://localhost:50001

# Frontend URL (for BrowserClient)
TEST_FRONTEND_URL=http://localhost:3000

# ========================================
# WebRTC Configuration - Browser
# ========================================

# STUN servers for browser (comma-separated)
NEXT_PUBLIC_WEBRTC_STUN_URLS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302

# TURN servers for browser (optional, comma-separated)
# NEXT_PUBLIC_WEBRTC_TURN_URLS=turn:your-turn-server.com:3478
# NEXT_PUBLIC_WEBRTC_TURN_USER=username
# NEXT_PUBLIC_WEBRTC_TURN_PASSWORD=password

# Alternative: JSON configuration for complex setups
# NEXT_PUBLIC_WEBRTC_ICE_SERVERS='[{"urls":["stun:stun.l.google.com:19302"]},{"urls":["turn:turn.example.com:3478"],"username":"user","credential":"pass"}]'

# ========================================
# WebRTC Configuration - Mobile Simulator
# ========================================

# STUN servers for mobile simulator (comma-separated)
TEST_WEBRTC_STUN_URLS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302

# TURN servers for mobile simulator (optional, comma-separated)
# TEST_WEBRTC_TURN_URLS=turn:your-turn-server.com:3478
# TEST_WEBRTC_TURN_USER=username
# TEST_WEBRTC_TURN_PASSWORD=password

# Alternative: JSON configuration for complex setups
# TEST_WEBRTC_ICE_SERVERS='[{"urls":["stun:stun.l.google.com:19302"]},{"urls":["turn:turn.example.com:3478"],"username":"user","credential":"pass"}]'

# ========================================
# Test Behavior
# ========================================

# Run browser in headless mode (true for CI, false for debugging)
TEST_HEADLESS=false

# Slow down browser actions (milliseconds, 0 = full speed)
TEST_SLOW_MO=0

# Test timeout (milliseconds)
TEST_TIMEOUT=60000

# ========================================
# Output Directories
# ========================================

# Where to save test run outputs
TEST_RUN_DIR=./output/test-run-latest

# Screenshots directory
TEST_SCREENSHOT_DIR=./output/test-run-latest/screenshots

# Videos directory
TEST_VIDEO_DIR=./output/test-run-latest/videos

# ========================================
# Backend Configuration (for Docker)
# ========================================

# Database URL for test backend
CHAT_DATABASE_URL=sqlite:///tmp/test-chat.db

# Token rate limit (higher for testing)
CHAT_TOKEN_RATE_LIMIT_PER_HOUR=1000

# CORS allowed origins
CHAT_CORS_ALLOWED_ORIGINS=*

# ========================================
# Notes
# ========================================

# 1. Copy this file to .env and customize for your environment
# 2. For local testing, the defaults should work out of the box
# 3. For CI/CD, set TEST_HEADLESS=true and configure TURN servers
# 4. STUN servers are required, TURN servers are optional but recommended
# 5. Mobile simulator uses TEST_* variables, browser uses NEXT_PUBLIC_* variables
