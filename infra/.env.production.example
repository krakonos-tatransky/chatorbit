# Copy to infra/.env.production when deploying under ISPConfig + Docker Compose
# These values assume:
# - Frontend served via https://yourserver.com
# - Backend/API proxied at https://api.yourserver.com
# - TURN server reachable at turn.yourserver.com (update if you relocate TURN)

# Shared backend/frontend secrets
CHAT_DATABASE_URL=sqlite:///./data/yourapp.db
CHAT_TOKEN_RATE_LIMIT_PER_HOUR=10
CHAT_CORS_ALLOWED_ORIGINS=https://yourserver.com,https://www.yourserver.com
CHAT_CORS_ALLOW_CREDENTIALS=false

# Frontend -> backend routing
NODE_ENV=production
NEXT_PUBLIC_API_BASE_URL=https://api.yourserver.com
NEXT_PUBLIC_WS_BASE_URL=wss://api.yourserver.com

# ICE defaults used by the frontend when no custom overrides are provided
NEXT_PUBLIC_WEBRTC_DEFAULT_STUN_URLS=stun:stun.nextcloud.com:443
NEXT_PUBLIC_WEBRTC_DEFAULT_TURN_URLS=turn:turn.yourserver.com:5349?transport=udp
NEXT_PUBLIC_WEBRTC_TURN_DEFAULT_USER=youruser
NEXT_PUBLIC_WEBRTC_TURN_DEFAULT_PASSWORD=yourpassword

# Optional overrides for custom TURN deployments
# NEXT_PUBLIC_WEBRTC_TURN_URLS=
# NEXT_PUBLIC_WEBRTC_TURN_USER=
# NEXT_PUBLIC_WEBRTC_TURN_PASSWORD=
